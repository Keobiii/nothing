    // Checkout
    on<CheckoutEvent>((event, emit) {
      if (state is CartLoaded) {
        List<Product> updatedCart = List<Product>.from((state as CartLoaded).cart);

        for (Product product in updatedCart) {
          product.totalQuantity -= product.quantity; 
          product.quantity = 1;
        }

        updatedCart.clear();

        emit(CartLoaded(updatedCart)); 

        
      }
    });

  }
